@page "/Videos"
@rendermode InteractiveServer

@using Microsoft.Extensions.Localization
@using Jhooa.UI.Features.Videos.Components
@using Jhooa.UI.Features.Videos.Models

@inject IStringLocalizer<Resources.Videos> Loc

<PageTitle>@Loc["Videos"]</PageTitle>

<section class="max-w-screen-xl mx-auto text-jhooa-gray px-4">


    <AuthorizeView>
        <Authorized>
            <h1 class="text-jhooa-teal-200 text-3xl mt-10 mb-4 font-monetaBold tracking-wide">@Loc["VideosPageTitle"]</h1>

            <p class="mb-4 font-amsiProLight text-jhooa-gray-100 text-sm tracking-wider">@Loc["VideosPageText1"]</p>
            <p class="mb-4 font-amsiProLight text-jhooa-gray-100 text-sm tracking-wider">@Loc["VideosPageText2"]</p>
            <p class="mb-4 font-amsiProLight text-jhooa-gray-100 text-sm tracking-wider">@Loc["VideosPageText3"]</p>
            <p class="mb-4 font-amsiProLight text-jhooa-gray-100 text-sm tracking-wider">@Loc["VideosPageText4"]</p>

            <h2 class="text-jhooa-teal-200 text-3xl mt-10 mb-4 font-monetaBold tracking-wide">@Loc["TheVideos"]</h2>

            <FilterVideos SelectThemeCallback="HandleThemeSelection" SelectMonthCallback="HandleMonthSelection"
                          SelectYearCallback="HandleYearSelection"/>

            <VideoList SelectedMonth="_selectedMonth" SelectedTheme="_selectedTheme" SelectedYear="_selectedYear"/>
        </Authorized>
        <NotAuthorized>
            <h1 class="text-jhooa-teal-200 text-3xl mt-10 mb-4 font-monetaBold tracking-wide">@Loc["VideosOnlyForConnectedUsersTitle"]</h1>

            <p class="mb-4 font-amsiProLight text-jhooa-gray-100 text-sm tracking-wider">@Loc["VideosOnlyForConnectedUsersDesc"]</p>

            <ul class="space-y-1  list-disc mb-4 font-amsiProLight text-jhooa-gray-100 text-sm tracking-wider list-outside ml-4">
                <li>@((MarkupString)Loc["VideosOnlyForConnectedUsersAlreadyUsers"].ToString())</li>
                <li>@((MarkupString)Loc["VideosOnlyForConnectedUsersRegister"].ToString())</li>
            </ul>
        </NotAuthorized>
    </AuthorizeView>
</section>

<script src="js/mobileMenu.js"></script>

@code {
    private Guid? _selectedTheme;
    private int? _selectedMonth;
    private int? _selectedYear;

    private void HandleThemeSelection(Guid? theme)
    {
        _selectedTheme = theme;
    }

    private void HandleYearSelection(int? year)
    {
        _selectedYear = year;
    }

    private void HandleMonthSelection(int? month)
    {
        _selectedMonth = month;
    }

}