@page "/Account/InvalidPasswordReset"

@using Microsoft.Extensions.Localization

@inject IStringLocalizer<Resources.Identity> Loc
@inject IdentityRedirectManager RedirectManager
@layout LoginLayout
@inject AuthenticationStateProvider AuthenticationStateProvider

<PageTitle>@Loc["InvalidPasswordReset"]</PageTitle>

<header class="max-w-screen-xl mx-auto text-white">
    <h1>@Loc["InvalidPasswordReset"]</h1>
    <p>
        @Loc["InvalidPasswordResetLink"]
    </p>
</header>

<script src="js/mobileMenu.js"></script>

@code
{
    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;

        if (user.Identity?.IsAuthenticated == true)
        {
            RedirectManager.RedirectTo("/Account/Manage");
        }
    }
}